<!DOCTYPE html>
<html lang="en">

<head>
    <title>Block-JS</title>
</head>

<body>
    <script src="./src/Block-JS.js" type="module"></script>

    <script>
        if (window.blockJSReady) {
            load()
        } else {
            window.addEventListener("blockJSReady", load)
        }

        function load() {
            var instance = new BlockJS.Instance("test")
            instance.data = {
                "version": 1,
                "blocks": [
                    {
                        "id": "console_info",
                        "position": [0, 0],
                        "input": ["a test"]
                    },
                    {
                        "id": "console_info",
                        "position": "connected",
                        "input": ["with lots of params like", 5, "and", true, "to!"]
                    },
                    {
                        "id": "wait",
                        "position": "connected",
                        "input": [1.25]
                    },
                    {
                        "id": "console_warn",
                        "position": "connected",
                        "input": ["oh noo", "its an warning!"]
                    },
                    {
                        "id": "console_error",
                        "position": "connected",
                        "input": ["not an error!"]
                    },
                    {
                        "id": "wait",
                        "position": "connected",
                        "input": [1.25]
                    },
                    {
                        "id": "repeat",
                        "position": "connected",
                        "input": [4, [
                            {
                                "id": "console_info",
                                "position": "connected",
                                "input": ["look a loop!"]
                            }
                        ]]
                    }
                ]
            }

            instance.createRenderer()

            console.log(instance.parser.parse(instance.data))
            instance.parser.run(instance.data)
        }
    </script>
</body>

</html>